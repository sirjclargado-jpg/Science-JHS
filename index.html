<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Human Biology Quiz (Grade 7–10)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .hidden {
      display: none;
    }
    .choice {
      margin: 8px 0;
      display: block;
      cursor: pointer;
    }
    button {
      margin-top: 15px;
      padding: 10px 15px;
      cursor: pointer;
    }
    .correct {
      color: green;
    }
    .wrong {
      color: red;
    }
  </style>
</head>
<body>

<h1>Human Biology Quiz (Grade 7–10)</h1>

<div id="start-screen">
  <input type="text" id="studentName" placeholder="Enter your name">
  <br><br>
  <button onclick="startQuiz()">Start Quiz</button>
</div>

<div id="quiz-screen" class="hidden">
  <h3 id="question-text"></h3>
  <div id="choices"></div>
  <button onclick="nextQuestion()">Next</button>
</div>

<div id="result-screen" class="hidden">
  <h2>Quiz Completed ✅</h2>
  <p id="final-score"></p>
  <h3>Item Analysis</h3>
  <div id="analysis"></div>
</div>

<script>
let currentIndex = 0;
let score = 0;
let studentAnswers = [];

const questions = [
  {
    question: "It is the infection in the liver that causes it to become inflamed.",
    choices: ["Appendicitis", "Bulimia", "Diarrhea", "Hepatitis"],
    correct: "Hepatitis",
    analysis: {
      correct: "Hepatitis is an infection of the liver, usually caused by a virus.",
      wrong: "Appendicitis affects the appendix, bulimia is an eating disorder, and diarrhea is a digestive condition."
    }
  },
  {
    question: "It is the inflammation of the lining of the stomach.",
    choices: ["Appendicitis", "Bulimia", "Diarrhea", "Gastritis"],
    correct: "Gastritis",
    analysis: {
      correct: "Gastritis refers to inflammation of the stomach lining.",
      wrong: "The other choices involve different organs or conditions."
    }
  },
  {
    question: "It is the increase in the frequency of loose, watery stools compared to normal.",
    choices: ["Appendicitis", "Bulimia", "Diarrhea", "Hepatitis"],
    correct: "Diarrhea",
    analysis: {
      correct: "Diarrhea is characterized by frequent, loose, watery stools.",
      wrong: "The other choices are not defined by loose stools."
    }
  },
  {
    question: "It is an eating disorder characterized by food binging and then purging.",
    choices: ["Appendicitis", "Bulimia", "Diarrhea", "Hepatitis"],
    correct: "Bulimia",
    analysis: {
      correct: "Bulimia involves binge eating followed by purging behaviors.",
      wrong: "The other choices are medical conditions, not eating disorders."
    }
  },
  {
    question: "It is a condition in which the small pouch-like organ attached to the large intestine becomes inflamed and swollen.",
    choices: ["Appendicitis", "Bulimia", "Diarrhea", "Gastritis"],
    correct: "Appendicitis",
    analysis: {
      correct: "Appendicitis is inflammation of the appendix.",
      wrong: "The other conditions involve different organs."
    }
  },
  {
    question: "It is the excessive production of urine resulting in an increased frequency of urination.",
    choices: ["Kidney stones", "UTI", "Kidney failure", "Polyuria"],
    correct: "Polyuria",
    analysis: {
      correct: "Polyuria refers to abnormally large volumes of urine.",
      wrong: "Kidney stones, UTI, and kidney failure do not primarily cause excessive urine production."
    }
  },
  {
    question: "It is the infection in the urinary tract caused by bacteria.",
    choices: ["Kidney stones", "UTI", "Kidney failure", "Uremia"],
    correct: "UTI",
    analysis: {
      correct: "UTI stands for urinary tract infection caused by bacteria.",
      wrong: "The other conditions are not bacterial infections of the urinary tract."
    }
  },
  {
    question: "It is the buildup of waste products in the blood due to kidney dysfunction.",
    choices: ["Kidney stones", "UTI", "Kidney failure", "Uremia"],
    correct: "Uremia",
    analysis: {
      correct: "Uremia occurs when waste products accumulate in the blood.",
      wrong: "The other choices describe different kidney-related conditions."
    }
  },
  {
    question: "It is the formation of hard mineral and salt deposits in the kidneys.",
    choices: ["Kidney stones", "UTI", "Kidney failure", "Polyuria"],
    correct: "Kidney stones",
    analysis: {
      correct: "Kidney stones are hard deposits made of minerals and salts.",
      wrong: "The other options do not involve mineral deposits."
    }
  },
  {
    question: "It is the inability of the kidneys to adequately filter waste and regulate fluid balance.",
    choices: ["Kidney stones", "UTI", "Kidney failure", "Uremia"],
    correct: "Kidney failure",
    analysis: {
      correct: "Kidney failure occurs when the kidneys can no longer function properly.",
      wrong: "Uremia is a result of kidney failure, not the cause."
    }
  }
];
</script>

function startQuiz() {
  const name = document.getElementById("studentName").value.trim();
  if (name === "") {
    alert("Please enter your name.");
    return;
  }
  localStorage.setItem("studentName", name);
  document.getElementById("start-screen").classList.add("hidden");
  document.getElementById("quiz-screen").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion() {
  const q = questions[currentIndex];
  document.getElementById("question-text").innerText = q.question;

  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML = "";

  q.choices.forEach(choice => {
    const label = document.createElement("label");
    label.className = "choice";
    label.innerHTML = `
      <input type="radio" name="choice" value="${choice}">
      ${choice}
    `;
    choicesDiv.appendChild(label);
  });
}

function nextQuestion() {
  const selected = document.querySelector('input[name="choice"]:checked');
  if (!selected) {
    alert("Please select an answer.");
    return;
  }

  const answer = selected.value;
  const q = questions[currentIndex];

  studentAnswers.push({
    question: q.question,
    selected: answer,
    correct: q.correct,
    analysis: q.analysis
  });

  if (answer === q.correct) score++;

  currentIndex++;

  if (currentIndex < questions.length) {
    loadQuestion();
  } else {
    finishQuiz();
  }
}

function finishQuiz() {
  document.getElementById("quiz-screen").classList.add("hidden");
  document.getElementById("result-screen").classList.remove("hidden");

  document.getElementById("final-score").innerText =
    `${localStorage.getItem("studentName")}, your score is ${score} out of ${questions.length}`;

  showAnalysis();
}

function showAnalysis() {
  const analysisDiv = document.getElementById("analysis");
  analysisDiv.innerHTML = "";

  studentAnswers.forEach((item, i) => {
    const div = document.createElement("div");
    div.innerHTML = `
      <p><strong>Q${i + 1}:</strong> ${item.question}</p>
      <p>Correct Answer: <span class="correct">${item.correct}</span></p>
      <p>${item.analysis.correct}</p>
      <hr>
    `;
    analysisDiv.appendChild(div);
  });
}
</script>

</body>
</html>
